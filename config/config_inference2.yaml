ID: _nopost_ #geometrical_th03m_ #GNNeval_AICS02_resnext101
COMMENT:
MODE: GNN_eval #GNN, REID, GNN_eval, eval_RANK, REID_th, geometrical_association

#FOR GNN EVAL
ROUNDING: False
CUTTING: False
DISJOINT: False
PRETRAINED_GNN_MODEL: /mnt/rhome/elg/Repositories/GNN-Cross-Camera-Association/results/GNN_S3_resnet50_SGD0005_cosine20_BS64_BCE_L2_2021-11-19 21:36:34/files/GNN_S3_resnet50_SGD0005_cosine20_BS64_BCE_L2__best.pth.tar
#  /mnt/rhome/elg/Repositories/GNN-Cross-Camera-Association/results/GNN_S1_osnet_market_SGD_0005_cosine20_BS64_BCE_L4_2021-11-12 20%3A54%3A41/files/GNN_S1_osnet_market_SGD_0005_cosine20_BS64_BCE_L4__best.pth.tar
#  /mnt/rhome/elg/Repositories/GNN-Cross-Camera-Association/results/BIS_GNN_S2_Resnet50MCD_SGD0005_cosine20_BS64_BCEw_all_step_BNcls2021-11-09 19:03:44/files/BIS_GNN_S2_Resnet50MCD_SGD0005_cosine20_BS64_BCEw_all_step_BNcls_best.pth.tar
#  /mnt/rhome/elg/Repositories/GNN-Cross-Camera-Association/results/GNN_S1_Resnet50MCD_Adam0005_BS64_BCE_all_step_BNcls_2021-11-03 00:38:48/files/GNN_S1_Resnet50MCD_Adam0005_BS64_BCE_all_step_BNcls__best.pth.tar
#  /mnt/rhome/elg/Repositories/GNN-Cross-Camera-Association/results/GNN_trainTerr_Lab_Resnet50MCD_Adam0001_BS16_BCE_all_step_BNcls2021-11-02 10:06:36/files/GNN_trainTerr_Lab_Resnet50MCD_Adam0001_BS16_BCE_all_step_BNcls_best.pth.tar
#  /mnt/rhome/elg/Repositories/GNN-Cross-Camera-Association/results/GNN_S4_Resnet50MCD_SGD001_decay20_BS2562021-10-20 16:51:05/files/GNN_S4_Resnet50MCD_SGD001_decay20_BS256_best.pth.tar


#  /home/elg/Repositories/GNN-Cross-Camera-Association/results/GNN_vehicles_AIC_resnext101_SGD0001_BNcls_SEP_LOSSES_POS_WEIGHT_decay25_2021-09-23 15:58:38/files/GNN_vehicles_AIC_resnext101_SGD0001_BNcls_SEP_LOSSES_POS_WEIGHT_decay25__latest.pth.tar

#  /home/elg/Repositories/GNN-Cross-Camera-Association/results/train_terr_not_attacing_fc6_edgeupdate2021-04-24 21:12:44/files/train_terr_not_attacing_fc6_edgeupdate_best.pth.tar
#  /home/elg/Repositories/GNN-Cross-Camera-Association/results/GNN_trainPETSyTerrace_resnet_app_dist_distx_disty_erase0.252021-07-09 10:42:28/files/GNN_trainPETSyTerrace_resnet_app_dist_distx_disty_erase0.25_best.pth.tar
#  /home/elg/Repositories/GNN-Cross-Camera-Association/results/GNN_trainLAByTerrace_resnet_app_dist_distx_disty_erase0.252021-07-08 15:48:49/files/GNN_trainLAByTerrace_resnet_app_dist_distx_disty_erase0.25_best.pth.tar
#  /home/elg/Repositories/GNN-Cross-Camera-Association/results/GNN_trainTERR_bdnetMarket_xtractor_distxy_distx_disty2021-05-19 18:24:32/files/GNN_trainTERR_bdnetExtractor_distxy_distx_disty_best.pth.tar

#  /home/elg/Repositories/GNN-cross-camera-association/results/GNN_trainTERR_osnet_mscd_app_dist_distx_disty2021-05-26 22:20:54/files/GNN_trainTERR_osnet_mscd_app_dist_distx_disty_best.pth.tar
#  /home/elg/Repositories/GNN-cross-camera-association/results/GNN_trainTERR_osnetMarket_app_dist_distx_disty2021-05-25 11:29:58/files/GNN_trainTERR_osnetMarket_app_dist_distx_disty_best.pth.tar
#  /home/elg/Repositories/GNN-cross-camera-association/results/GNN_trainTERR_bdnetCUHK_Extractor_distxy_distx_disty2021-05-20 00:26:22/files/GNN_trainTERR_bdnetCUHK_Extractor_distxy_distx_disty_best.pth.tar
#  /home/elg/Repositories/GNN-cross-camera-association/results/GNN_trainTERR_bdnetExtractor_distxy_distx_disty2021-05-19 18:24:32/files/GNN_trainTERR_bdnetExtractor_distxy_distx_disty_best.pth.tar
#/home/elg/Repositories/GNN-cross-camera-association/results/GNN_trainTERR_bdnetMarket_xtractor_distxy_distx_disty2021-05-19 18:24:32/files/GNN_trainTERR_bdnetExtractor_distxy_distx_disty_best.pth.tar

#  /home/elg/Repositories/GNN-Cross-Camera-Association/results/train_terr_not_attacing_fc6_edgeupdate2021-04-24 21:12:44/files/train_terr_not_attacing_fc6_edgeupdate_best.pth.tar


#FOR eval_RANK

RANK: 1

DATASET_TRAIN:
    IMAUG: True
    RESIZE:
      resnet50: [128, 64]
      bdnet_market: [384, 128]
      bdnet_cuhk: [384, 128]
      osnet_market: [256, 128]
      osnet_ms_c_d: [256, 128]
      resnext101_cars: [320, 320]
    MEAN: [0.485, 0.456, 0.406]
    STD: [0.229, 0.224, 0.225]

CONV_TO_M: # dist/CONV_TO_M to covert to meters
  PETS2009_S2_L1_5_8: 26.56
  EPFL-Laboratory: 44.23
  EPFL-Terrace: 50.83
  CAMPUS_Garden1: 85.23
  AIC20-S01: 0.00001
  AIC20-S02: 0.00001
  EPFL-Basketball: 153.54


#FOR GNN

DATASET_VAL:
    NAME: EPFL-Laboratory  #PETS2009_S2_L1_5_8 #EPFL-Laboratory #AIC20-S02
    ROOT: /mnt/rhome/elg/Datasets/
    N_CLASSES:
    CROP:
    FRAME_SAMPLING:
    MEAN: [0.485, 0.456, 0.406]
    STD: [0.229, 0.224, 0.225]
    ZERO_PADDING: False


TRAINING:
    BATCH_SIZE:
        VAL: 1

    ONLY_APPEARANCE: False
    ONLY_DIST: False

CNN_MODEL:
    arch: resnet50 #resnet50 , bdnet_market, bdnet_cuhk, osnet_market, osnet_ms_c_d,resnext101_cars
    model_weights_path:
        resnet50: ./trained_models/reid/resnet50_market_cuhk_duke.tar-232
        bdnet_market: ./trained_models/top-dropblock/de00143e-market-model.pth.tar-400
        bdnet_cuhk: ./trained_models/top-dropblock/fbdaf3bb-cuhk-det-model.pth.tar-400
        osnet_market: ./trained_models/osnet/osnet_x1_0_market_256x128_amsgrad_ep150_stp60_lr0.0015_b64_fb10_softmax_labelsmooth_flip.pth
        osnet_ms_c_d:  ./trained_models/osnet/osnet_ms_d_c.pth.tar
        resnext101_cars: ./trained_models/vehicle-reid/resnext_101_multihead.pth
    L2norm: True


DATALOADER:
    NUM_WORKERS: 4
    PIN_MEMORY: True


GRAPH_NET_PARAMS:
  node_agg_fn: 'sum'
  num_enc_steps: 2  # before 4 Number of message passing steps
  num_class_steps: 1  # before 3Number of message passing steps during feature vectors are classified (after Message Passing)
  reattach_initial_nodes: False  # elg. Original: False Determines whether initially encoded node feats are used during node updates
  reattach_initial_edges: False  #  elg. Original: TrueDetermines whether initially encoded edge feats are used during node updates

  encoder_feats_dict:
    edges:
      edge_in_dim: 4 # elg: 2 if only appearance
      edge_fc_dims: [ ] #elg before [6]
      edge_out_dim: 6 # elg: original = 16 ours 1 if not encoding

    nodes:
      resnet50:
        #EDGES FEATURES ENCODER: in my case not encoding with just 1
  #      edge_in_dim: 4 # elg: 2 if only appearance
  #      edge_fc_dims: [] #elg before [6]
  #      edge_out_dim: 6 # elg: original = 16 ours 1 if not encoding

        #NODE FEATURES ENCODER
        node_in_dim: 2048
        #node_fc_dims: [512, 128]
        node_fc_dims: [128]
        node_out_dim: 32
        dropout_p: 0
        use_batchnorm: False

      bdnet_market:

        #NODE FEATURES ENCODER
        node_in_dim: 512
        #node_fc_dims: [512, 128]
        node_fc_dims: [128]
        node_out_dim: 32
        dropout_p: 0
        use_batchnorm: False
      bdnet_cuhk:

        #NODE FEATURES ENCODER
        node_in_dim: 512
        #node_fc_dims: [512, 128]
        node_fc_dims: [ 128 ]
        node_out_dim: 32
        dropout_p: 0
        use_batchnorm: False
      osnet_ms_c_d:

        #NODE FEATURES ENCODER
        node_in_dim: 512
        #node_fc_dims: [512, 128]
        node_fc_dims: [128]
        node_out_dim: 32
        dropout_p: 0
        use_batchnorm: False #False
      osnet_market:

        #NODE FEATURES ENCODER
        node_in_dim: 512
        #node_fc_dims: [512, 128]
        node_fc_dims: [ 128 ]
        node_out_dim: 32
        dropout_p: 0
        use_batchnorm: False
      resnext101_cars:
        #NODE FEATURES ENCODER
        node_in_dim: 2048
        #node_fc_dims: [512, 128]
        node_fc_dims: [ 128 ]
        node_out_dim: 32
        dropout_p: 0
        use_batchnorm: False


  # MPN EDGE UPDATE
  edge_model_feats_dict:
    fc_dims: [6] #  before 66,6elg: orig [80,16]In size is 4 * encoded nodes + 2 * encoded edges
    dropout_p: 0
    use_batchnorm: False

 # MPN NODE UPDATE

  node_model_feats_dict:
    fc_dims: [32]  # elg: orig [56,32] In size is 2 * encoded nodes + 1 * encoded edges
    dropout_p: 0
    use_batchnorm: False

  classifier_feats_dict:
    edge_in_dim: 6 #orig 16
    edge_fc_dims: [4] # orig
    edge_out_dim: 1
    dropout_p: 0
    use_batchnorm: True


    # for geometrical association
NORM_TO_M: True
GEOM_TH: 250


#FOR REID_th

MAX_DIST_L2:
  resnet50:
    EPFL-Basketball: 30.76
    EPFL-Terrace: 33.63
    EPFL-Laboratory: 33.79
  bdnet_market:
    EPFL-Basketball: 3.6
    EPFL-Terrace: 3.4
    EPFL-Laboratory: 3.2

OPT_TH:
  L2:
    resnet50:
      EPFL-Basketball: 0.63
      EPFL-Terrace: 0.59
      EPFL-Laboratory: 0.55
    bdnet_market:
      EPFL-Basketball: 0.57
      EPFL-Terrace: 0.6
      EPFL-Laboratory: 0.59
  COS:
    resnet50:
      EPFL-Basketball: 0.71
      EPFL-Terrace: 0.71
      EPFL-Laboratory: 0.75
    bdnet_market:
      EPFL-Basketball: 0.64
      EPFL-Terrace: 0.62
      EPFL-Laboratory: 0.67
